<p id="notice"><%= notice %></p>

<div class="container mx-auto pt-4" >
  <div class="row justify-content-around">
    <div class="col-6 text-center">
      <% if @user.avatar.attached? %>
        <img src="<%=(url_for(@user.avatar))%>" class="avatar" alt="<%= @user.full_name%>">
      <% else %>
        <%= image_tag "user_ph.jpg", class:"avatar" %>
      <%end%>
      <br>
      <p>
        <strong>Email:</strong>
        <%= @user.email %><br>
        <strong>Phone:</strong>
        <%= @user.phone %>
      </p>


      <div class="container">

      <!-- membership display -->

      <% if !@user.groups.exists? %>
        <p>I haven't joined any groups yet</p>
      <% elsif @user.groups.exists?%>
        <h5 class="font-weight-bold">I'm a proud member of:</h5>
        <div class="row my-3 justify-content-center d-flex flex-wrap">
          <% @user.groups.each do |group| %>
            <div class="card mx-1 my-1" style="width: 8rem;">
              <div class="card-body text-center">
                <h5 class="card-title"><%= group.name %></h5>
                <p class="card-text"><%= group.activity_type %></p>
                <p class="card-text">Joined<br><%= group.memberships.find_by(user_id: @user.id, group_id: group.id).created_at.to_date %></p>
                <%= link_to "Visit", group_path(group), class: "btn btn-sm btn-warning" %>
              </div>
            </div>
          <% end %>   
        </div>
      <% end %>
      </div>

      <div class="container text-center">
        <%= link_to 'Back', url_for(:back), class: "btn btn-sm btn-warning" %>
      </div>   

    </div>

    <div class="col text-center">
      <h1 class="display-5 text-center font-weight-bold"><%= @user.full_name %></h1>
      <div class="container mx-auto my-5 text-center">
        <p class="font-weight-light text-center"><%= simple_format(@user.about_me) %></p>
      </div>
      <%= link_to 'Edit', edit_user_path(@user), class: "btn btn-sm btn-warning" %>
    </div>  
  </div>
</div>

